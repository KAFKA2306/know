# Data Storage

「知識」と「状態」を外在化する層

## 本質

LLMの**外部脳**。ただし「人格」ではない。

**役割**: 文書・仕様・履歴・事実を検索可能な形で保存

**やらないこと**: 判断の更新、嗜好の形成、行動の変化

!!! warning "重要"
    RAGのための層であり、Agentの「性格」を作る層ではない

## 要素例

| ツール | 特徴 |
|--------|------|
| Qdrant | 高速ベクトル検索。自前運用しやすい。RAG実務で最もバランス良い |
| Pinecone | フルマネージド。運用を捨てて即使いたい場合 |
| Chroma | 軽量・ローカル向け。PoC専用 |
| Weaviate | ベクトル＋構造検索。スキーマを持ちたい業務向け |
| MongoDB | 構造データ・状態管理用。Vector DBとは役割が別 |

## よくある失敗

- Vector DBを「記憶」と勘違いする
- 何でも突っ込む
- 更新戦略を考えない

→ 古い知識で自信満々に間違えるAgentが生まれる

## 設計原則

1. Data Storage = 検索可能な事実
2. 更新・削除・再埋め込みのルールを最初に決める
3. ⑩ Memoryと**絶対に混同しない**
