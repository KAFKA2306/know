# Orchestration

Agentの「中枢神経」そのもの

## 本質

**Agent設計のほぼすべてはここで決まる**。

判断の配線図：

- 何を考えるか
- 何を調べるか
- いつ止まるか
- どこで人に渡すか

## 要素例

| ツール | 特徴 |
|--------|------|
| LangChain | 汎用接着剤。ツール・RAG・思考を接続 |
| CrewAI | 役割分担型マルチAgent設計 |
| Haystack | 検索・RAG中心。実運用志向 |
| LlamaIndex | データ接続・前処理に強い |

## よくある失敗

- Agentが止まらない
- 無限ループ
- 意図しないツール連打

!!! danger "重要"
    この3つの失敗は、**ほぼ100％ここが原因**

## 設計原則（超重要）

1. 「**人が止められる設計**」にする
2. 思考ステップを明示的に分ける
3. **自律より制御を優先する**
