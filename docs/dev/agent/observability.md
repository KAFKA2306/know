# LLM Observability

「何が起きたか」を後から知る層

## 本質

Agentは必ず失敗する。失敗を**再現可能な情報に変える**層。

**見る対象**: 入力、プロンプト、ツール呼び出し、中間出力、最終出力、コスト、レイテンシ

!!! danger "重要"
    ここがないAgentは、改善不能なブラックボックス

## 要素例

| ツール | 特徴 |
|--------|------|
| Langfuse | 実行トレース・コスト・入出力を一元可視化。本番向け |
| LangSmith | LangChain特化。開発者体験が良い |
| Arize | 品質劣化・ドリフト検知。運用フェーズ向け |
| Traceloop | 本番監視・パフォーマンス分析 |

## よくある失敗

- PoCだから入れない
- ログを後付けする
- エラーだけ見る

→ 「なんか最近おかしい」しか分からない

## 設計原則

1. **最初から入れる**
2. 「失敗ケース」を見るための層
3. 改善サイクルの前提条件
